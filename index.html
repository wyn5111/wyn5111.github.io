<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=640">

    <link rel="stylesheet" href="stylesheets/core.css" media="screen">
    <link rel="stylesheet" href="stylesheets/mobile.css" media="handheld, only screen and (max-device-width:640px)">
    <link rel="stylesheet" href="stylesheets/github-light.css">

    <script type="text/javascript" src="javascripts/modernizr.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script type="text/javascript" src="javascripts/headsmart.min.js"></script>
    <script type="text/javascript">
      $(document).ready(function () {
        $('#main_content').headsmart()
      })
    </script>
    <title>Wyn5111.GitHub.io by wyn5111</title>
  </head>

  <body>
    <a id="forkme_banner" href="https://github.com/wyn5111">View on GitHub</a>
    <div class="shell">

      <header>
        <span class="ribbon-outer">
          <span class="ribbon-inner">
            <h1>Wyn5111.GitHub.io</h1>
            <h2>management</h2>
          </span>
          <span class="left-tail"></span>
          <span class="right-tail"></span>
        </span>
      </header>

      <div id="no-downloads">
        <span class="inner">
        </span>
      </div>


      <span class="banner-fix"></span>


      <section id="main_content">
        <h1>
<a id="wyn5111githubio" class="anchor" href="#wyn5111githubio" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>wyn5111.github.io</h1>

<p>management</p>

<p>//server.php</p>

<p>&lt;?php
    //header("Content-Type:text/plain;charset=utf-8");
    //发送的内容为json
    header("Content-Type:application/json;charset=utf-8");
    //多维数组
    $staff = array (
        array("name" =&gt; "wanguanna","number" =&gt; "1","sex" =&gt;"男","job" =&gt; "总经理"),
        array("name" =&gt; "wanguanna","number" =&gt; "2","sex" =&gt;"男","job" =&gt; "付经理"),
        array("name" =&gt; "wanguanna","number" =&gt; "3","sex" =&gt;"女","job" =&gt; "员工")
    );
    //请求的判断,$_超全局变量的开头，不适用global关键字
    if($_SERVER['REQUEST_METHOD'] == 'GET'){
            search();
    }else if($_SERVER['REQUEST_METHOD'] =='POST'){
            create();<br>
    }
    //检查是否有员工编号的参数
    function search(){
            if(!isset($_GET['number']) || empty($_GET['number'])){
                    echo '{"success": false,"msg": "参数错误"}';
                    return;
                }
            global $staff;
            //获取number参数
            $number = $_GET['number'];
            $result = '{"success": false,"msg": "没有找到员工"}';</p>

<pre><code>        //遍历$staff多维数组，查找key值为number的员工是否存在
        foreach($staff as $value){
                if($value["number"] == $number){
                        $result = '{"success":true,"msg":"找到员工：员工编号:'.$value["number"].',员工姓名：'.$value["name"].',员工性别：'.$value["sex"].',员工职位：'.$value["job"].'"}';
                        break;
                    }
            }
        echo $result;
    }
//创建员工
function create(){
        //判断信息是否填写完成
        if(!isset($_POST["name"]) || empty($_POST["name"]) ||
           !isset($_POST["number"]) || empty($_POST["number"]) ||
           !isset($_POST["sex"]) || empty($_POST["sex"]) ||
           !isset($_POST["job"]) || empty($_POST["job"])

        ){

            echo '{"success": false,"msg": "员工信息填写不全"}';
            return;
        }

        echo '{"success": true,"msg":"员工：".$_POST["name"]."信息保存成功"}';

    }
</code></pre>

<p>?&gt;</p>

<p>//html</p>

<p>&lt;!doctype html&gt;

</p>

无标题文档


<p></p>

<h1>
<a id="员工查询" class="anchor" href="#%E5%91%98%E5%B7%A5%E6%9F%A5%E8%AF%A2" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>员工查询</h1>

<p>请输入员工编号

查询</p>

<p id="searchResult"></p>

<h1>
<a id="添加员工" class="anchor" href="#%E6%B7%BB%E5%8A%A0%E5%91%98%E5%B7%A5" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>添加员工</h1>

<p>请输入员工姓名
<br>
请输入员工编号
<br>
请输入员工性别
<br>
    
        男
    
    
        女
    
<br>
请输入员工职位
<br>
添加<br></p>

<p id="createResult"></p>



<p>
</p>
      </section>

      <footer>
        <span class="ribbon-outer">
          <span class="ribbon-inner">
            <p>Projects by <a href="https://github.com/wyn5111">wyn5111</a> can be found on <a href="https://github.com/wyn5111">GitHub</a></p>
          </span>
          <span class="left-tail"></span>
          <span class="right-tail"></span>
        </span>
        <p>Generated with <a href="https://pages.github.com">GitHub Pages</a> using Merlot</p>
        <span class="octocat"></span>
      </footer>

    </div>

    
  </body>
</html>
